(self.webpackChunkmaarchCourrier=self.webpackChunkmaarchCourrier||[]).push([[7115,8645,9835,9622,7394,236,5592],{65592:(C,h,e)=>{e.d(h,{y:()=>b});var s=e(80305),o=e(47394),u=e(14850),a=e(88407),l=e(82653),i=e(84674),v=e(81441);let b=(()=>{class d{constructor(_){_&&(this._subscribe=_)}lift(_){const P=new d;return P.source=this,P.operator=_,P}subscribe(_,P,U){const T=function n(d){return d&&d instanceof s.Lv||function c(d){return d&&(0,i.m)(d.next)&&(0,i.m)(d.error)&&(0,i.m)(d.complete)}(d)&&(0,o.Nn)(d)}(_)?_:new s.Hp(_,P,U);return(0,v.x)(()=>{const{operator:R,source:F}=this;T.add(R?R.call(T,F):F?this._subscribe(T):this._trySubscribe(T))}),T}_trySubscribe(_){try{return this._subscribe(_)}catch(P){_.error(P)}}forEach(_,P){return new(P=D(P))((U,T)=>{const R=new s.Hp({next:F=>{try{_(F)}catch(x){T(x),R.unsubscribe()}},error:T,complete:U});this.subscribe(R)})}_subscribe(_){var P;return null===(P=this.source)||void 0===P?void 0:P.subscribe(_)}[u.L](){return this}pipe(..._){return(0,a.U)(_)(this)}toPromise(_){return new(_=D(_))((P,U)=>{let T;this.subscribe(R=>T=R,R=>U(R),()=>P(T))})}}return d.create=M=>new d(M),d})();function D(d){var M;return null!==(M=d??l.config.Promise)&&void 0!==M?M:Promise}},78645:(C,h,e)=>{e.d(h,{x:()=>v});var s=e(65592),o=e(47394);const a=(0,e(82306).d)(D=>function(){D(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var l=e(49039),i=e(81441);let v=(()=>{class D extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const d=new b(this,this);return d.operator=n,d}_throwIfClosed(){if(this.closed)throw new a}next(n){(0,i.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const d of this.currentObservers)d.next(n)}})}error(n){(0,i.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:d}=this;for(;d.length;)d.shift().error(n)}})}complete(){(0,i.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:d,isStopped:M,observers:_}=this;return d||M?o.Lc:(this.currentObservers=null,_.push(n),new o.w0(()=>{this.currentObservers=null,(0,l.P)(_,n)}))}_checkFinalizedStatuses(n){const{hasError:d,thrownError:M,isStopped:_}=this;d?n.error(M):_&&n.complete()}asObservable(){const n=new s.y;return n.source=this,n}}return D.create=(c,n)=>new b(c,n),D})();class b extends v{constructor(c,n){super(),this.destination=c,this.source=n}next(c){var n,d;null===(d=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===d||d.call(n,c)}error(c){var n,d;null===(d=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===d||d.call(n,c)}complete(){var c,n;null===(n=null===(c=this.destination)||void 0===c?void 0:c.complete)||void 0===n||n.call(c)}_subscribe(c){var n,d;return null!==(d=null===(n=this.source)||void 0===n?void 0:n.subscribe(c))&&void 0!==d?d:o.Lc}}},80305:(C,h,e)=>{e.d(h,{Hp:()=>U,Lv:()=>d});var s=e(84674),o=e(47394),u=e(82653),a=e(93894),l=e(72420);const i=D("C",void 0,void 0);function D(I,f,L){return{kind:I,value:f,error:L}}var c=e(87599),n=e(81441);class d extends o.w0{constructor(f){super(),this.isStopped=!1,f?(this.destination=f,(0,o.Nn)(f)&&f.add(this)):this.destination=x}static create(f,L,B){return new U(f,L,B)}next(f){this.isStopped?F(function b(I){return D("N",I,void 0)}(f),this):this._next(f)}error(f){this.isStopped?F(function v(I){return D("E",void 0,I)}(f),this):(this.isStopped=!0,this._error(f))}complete(){this.isStopped?F(i,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(f){this.destination.next(f)}_error(f){try{this.destination.error(f)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const M=Function.prototype.bind;function _(I,f){return M.call(I,f)}class P{constructor(f){this.partialObserver=f}next(f){const{partialObserver:L}=this;if(L.next)try{L.next(f)}catch(B){T(B)}}error(f){const{partialObserver:L}=this;if(L.error)try{L.error(f)}catch(B){T(B)}else T(f)}complete(){const{partialObserver:f}=this;if(f.complete)try{f.complete()}catch(L){T(L)}}}class U extends d{constructor(f,L,B){let O;if(super(),(0,s.m)(f)||!f)O={next:f??void 0,error:L??void 0,complete:B??void 0};else{let y;this&&u.config.useDeprecatedNextContext?(y=Object.create(f),y.unsubscribe=()=>this.unsubscribe(),O={next:f.next&&_(f.next,y),error:f.error&&_(f.error,y),complete:f.complete&&_(f.complete,y)}):O=f}this.destination=new P(O)}}function T(I){u.config.useDeprecatedSynchronousErrorHandling?(0,n.O)(I):(0,a.h)(I)}function F(I,f){const{onStoppedNotification:L}=u.config;L&&c.z.setTimeout(()=>L(I,f))}const x={closed:!0,next:l.Z,error:function R(I){throw I},complete:l.Z}},47394:(C,h,e)=>{e.d(h,{Lc:()=>i,w0:()=>l,Nn:()=>v});var s=e(84674);const u=(0,e(82306).d)(D=>function(n){D(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((d,M)=>`${M+1}) ${d.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});var a=e(49039);class l{constructor(c){this.initialTeardown=c,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let c;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const _ of n)_.remove(this);else n.remove(this);const{initialTeardown:d}=this;if((0,s.m)(d))try{d()}catch(_){c=_ instanceof u?_.errors:[_]}const{_finalizers:M}=this;if(M){this._finalizers=null;for(const _ of M)try{b(_)}catch(P){c=c??[],P instanceof u?c=[...c,...P.errors]:c.push(P)}}if(c)throw new u(c)}}add(c){var n;if(c&&c!==this)if(this.closed)b(c);else{if(c instanceof l){if(c.closed||c._hasParent(this))return;c._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(c)}}_hasParent(c){const{_parentage:n}=this;return n===c||Array.isArray(n)&&n.includes(c)}_addParent(c){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(c),n):n?[n,c]:c}_removeParent(c){const{_parentage:n}=this;n===c?this._parentage=null:Array.isArray(n)&&(0,a.P)(n,c)}remove(c){const{_finalizers:n}=this;n&&(0,a.P)(n,c),c instanceof l&&c._removeParent(this)}}l.EMPTY=(()=>{const D=new l;return D.closed=!0,D})();const i=l.EMPTY;function v(D){return D instanceof l||D&&"closed"in D&&(0,s.m)(D.remove)&&(0,s.m)(D.add)&&(0,s.m)(D.unsubscribe)}function b(D){(0,s.m)(D)?D():D.unsubscribe()}},82653:(C,h,e)=>{e.d(h,{config:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},35211:(C,h,e)=>{e.d(h,{z:()=>l});var s=e(57537),u=e(79940),a=e(7715);function l(...i){return function o(){return(0,s.J)(1)}()((0,a.D)(i,(0,u.yG)(i)))}},45177:(C,h,e)=>{e.d(h,{P:()=>u});var s=e(65592),o=e(54829);function u(a){return new s.y(l=>{(0,o.Xf)(a()).subscribe(l)})}},7715:(C,h,e)=>{e.d(h,{D:()=>B});var s=e(54829),o=e(27103),u=e(79360),a=e(8251);function l(O,y=0){return(0,u.e)((m,p)=>{m.subscribe((0,a.x)(p,t=>(0,o.f)(p,O,()=>p.next(t),y),()=>(0,o.f)(p,O,()=>p.complete(),y),t=>(0,o.f)(p,O,()=>p.error(t),y)))})}function i(O,y=0){return(0,u.e)((m,p)=>{p.add(O.schedule(()=>m.subscribe(p),y))})}var D=e(65592),n=e(64971),d=e(84674);function _(O,y){if(!O)throw new Error("Iterable cannot be null");return new D.y(m=>{(0,o.f)(m,y,()=>{const p=O[Symbol.asyncIterator]();(0,o.f)(m,y,()=>{p.next().then(t=>{t.done?m.complete():m.next(t.value)})},0,!0)})})}var P=e(38382),U=e(54026),T=e(64266),R=e(83664),F=e(15726),x=e(69853),I=e(50541);function B(O,y){return y?function L(O,y){if(null!=O){if((0,P.c)(O))return function v(O,y){return(0,s.Xf)(O).pipe(i(y),l(y))}(O,y);if((0,T.z)(O))return function c(O,y){return new D.y(m=>{let p=0;return y.schedule(function(){p===O.length?m.complete():(m.next(O[p++]),m.closed||this.schedule())})})}(O,y);if((0,U.t)(O))return function b(O,y){return(0,s.Xf)(O).pipe(i(y),l(y))}(O,y);if((0,F.D)(O))return _(O,y);if((0,R.T)(O))return function M(O,y){return new D.y(m=>{let p;return(0,o.f)(m,y,()=>{p=O[n.h](),(0,o.f)(m,y,()=>{let t,r;try{({value:t,done:r}=p.next())}catch(E){return void m.error(E)}r?m.complete():m.next(t)},0,!0)}),()=>(0,d.m)(p?.return)&&p.return()})}(O,y);if((0,I.L)(O))return function f(O,y){return _((0,I.Q)(O),y)}(O,y)}throw(0,x.z)(O)}(O,y):(0,s.Xf)(O)}},22096:(C,h,e)=>{e.d(h,{of:()=>u});var s=e(79940),o=e(7715);function u(...a){const l=(0,s.yG)(a);return(0,o.D)(a,l)}},8251:(C,h,e)=>{e.d(h,{x:()=>o});var s=e(80305);function o(a,l,i,v,b){return new u(a,l,i,v,b)}class u extends s.Lv{constructor(l,i,v,b,D,c){super(l),this.onFinalize=D,this.shouldUnsubscribe=c,this._next=i?function(n){try{i(n)}catch(d){l.error(d)}}:super._next,this._error=b?function(n){try{b(n)}catch(d){l.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=v?function(){try{v()}catch(n){l.error(n)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var l;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:i}=this;super.unsubscribe(),!i&&(null===(l=this.onFinalize)||void 0===l||l.call(this))}}}},37398:(C,h,e)=>{e.d(h,{U:()=>u});var s=e(79360),o=e(8251);function u(a,l){return(0,s.e)((i,v)=>{let b=0;i.subscribe((0,o.x)(v,D=>{v.next(a.call(l,D,b++))}))})}},57537:(C,h,e)=>{e.d(h,{J:()=>u});var s=e(9769),o=e(42737);function u(a=1/0){return(0,s.z)(o.y,a)}},80564:(C,h,e)=>{e.d(h,{p:()=>a});var s=e(54829),o=e(27103),u=e(8251);function a(l,i,v,b,D,c,n,d){const M=[];let _=0,P=0,U=!1;const T=()=>{U&&!M.length&&!_&&i.complete()},R=x=>_<b?F(x):M.push(x),F=x=>{c&&i.next(x),_++;let I=!1;(0,s.Xf)(v(x,P++)).subscribe((0,u.x)(i,f=>{D?.(f),c?R(f):i.next(f)},()=>{I=!0},void 0,()=>{if(I)try{for(_--;M.length&&_<b;){const f=M.shift();n?(0,o.f)(i,n,()=>F(f)):F(f)}T()}catch(f){i.error(f)}}))};return l.subscribe((0,u.x)(i,R,()=>{U=!0,T()})),()=>{d?.()}}},9769:(C,h,e)=>{e.d(h,{z:()=>i});var s=e(37398),o=e(54829),u=e(79360),a=e(80564),l=e(84674);function i(v,b,D=1/0){return(0,l.m)(b)?i((c,n)=>(0,s.U)((d,M)=>b(c,d,n,M))((0,o.Xf)(v(c,n))),D):("number"==typeof b&&(D=b),(0,u.e)((c,n)=>(0,a.p)(c,n,v,D)))}},27921:(C,h,e)=>{e.d(h,{O:()=>a});var s=e(35211),o=e(79940),u=e(79360);function a(...l){const i=(0,o.yG)(l);return(0,u.e)((v,b)=>{(i?(0,s.z)(l,v,i):(0,s.z)(l,v)).subscribe(b)})}},87599:(C,h,e)=>{e.d(h,{z:()=>s});const s={setTimeout(o,u,...a){const{delegate:l}=s;return l?.setTimeout?l.setTimeout(o,u,...a):setTimeout(o,u,...a)},clearTimeout(o){const{delegate:u}=s;return(u?.clearTimeout||clearTimeout)(o)},delegate:void 0}},14850:(C,h,e)=>{e.d(h,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},79940:(C,h,e)=>{e.d(h,{_6:()=>i,jO:()=>a,yG:()=>l});var s=e(84674),o=e(50671);function u(v){return v[v.length-1]}function a(v){return(0,s.m)(u(v))?v.pop():void 0}function l(v){return(0,o.K)(u(v))?v.pop():void 0}function i(v,b){return"number"==typeof u(v)?v.pop():b}},49039:(C,h,e)=>{function s(o,u){if(o){const a=o.indexOf(u);0<=a&&o.splice(a,1)}}e.d(h,{P:()=>s})},82306:(C,h,e)=>{function s(o){const a=o(l=>{Error.call(l),l.stack=(new Error).stack});return a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a}e.d(h,{d:()=>s})},81441:(C,h,e)=>{e.d(h,{O:()=>a,x:()=>u});var s=e(82653);let o=null;function u(l){if(s.config.useDeprecatedSynchronousErrorHandling){const i=!o;if(i&&(o={errorThrown:!1,error:null}),l(),i){const{errorThrown:v,error:b}=o;if(o=null,v)throw b}}else l()}function a(l){s.config.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=l)}},27103:(C,h,e)=>{function s(o,u,a,l=0,i=!1){const v=u.schedule(function(){a(),i?o.add(this.schedule(null,l)):this.unsubscribe()},l);if(o.add(v),!i)return v}e.d(h,{f:()=>s})},42737:(C,h,e)=>{function s(o){return o}e.d(h,{y:()=>s})},84674:(C,h,e)=>{function s(o){return"function"==typeof o}e.d(h,{m:()=>s})},50671:(C,h,e)=>{e.d(h,{K:()=>o});var s=e(84674);function o(u){return u&&(0,s.m)(u.schedule)}},79360:(C,h,e)=>{e.d(h,{A:()=>o,e:()=>u});var s=e(84674);function o(a){return(0,s.m)(a?.lift)}function u(a){return l=>{if(o(l))return l.lift(function(i){try{return a(i,this)}catch(v){this.error(v)}});throw new TypeError("Unable to lift unknown Observable type")}}},72420:(C,h,e)=>{function s(){}e.d(h,{Z:()=>s})},88407:(C,h,e)=>{e.d(h,{U:()=>u,z:()=>o});var s=e(42737);function o(...a){return u(a)}function u(a){return 0===a.length?s.y:1===a.length?a[0]:function(i){return a.reduce((v,b)=>b(v),i)}}},93894:(C,h,e)=>{e.d(h,{h:()=>u});var s=e(82653),o=e(87599);function u(a){o.z.setTimeout(()=>{const{onUnhandledError:l}=s.config;if(!l)throw a;l(a)})}},7115:(C,h,e)=>{e.r(h),e.d(h,{CdkDialogContainer:()=>U,DEFAULT_DIALOG_CONFIG:()=>x,DIALOG_DATA:()=>F,DIALOG_SCROLL_STRATEGY:()=>R,DIALOG_SCROLL_STRATEGY_PROVIDER:()=>f,DIALOG_SCROLL_STRATEGY_PROVIDER_FACTORY:()=>I,Dialog:()=>B,DialogConfig:()=>_,DialogModule:()=>y,DialogRef:()=>T,throwDialogContentAlreadyAttachedError:()=>P});var s=e(1752),o=e(13199),u=e(46055),a=e(34741),l=e(47454),i=e(54548),v=e(8332),b=e(78645),D=e(45177),c=e(22096),n=e(8664),d=e(27921);function M(m,p){}class _{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}function P(){throw Error("Attempting to attach dialog content after content is already attached")}let U=(()=>{class m extends a.BasePortalOutlet{constructor(t,r,E,g,S,A,W,j){super(),this._elementRef=t,this._focusTrapFactory=r,this._config=g,this._interactivityChecker=S,this._ngZone=A,this._overlayRef=W,this._focusMonitor=j,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=K=>{this._portalOutlet.hasAttached();const w=this._portalOutlet.attachDomPortal(K);return this._contentAttached(),w},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=E}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),r}attachTemplatePortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const E=()=>{t.removeEventListener("blur",E),t.removeEventListener("mousedown",E),t.removeAttribute("tabindex")};t.addEventListener("blur",E),t.addEventListener("mousedown",E)})),t.focus(r)}_focusByCssSelector(t,r){let E=this._elementRef.nativeElement.querySelector(t);E&&this._forceFocus(E,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let r=null;if("string"==typeof t?r=this._document.querySelector(t):"boolean"==typeof t?r=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(r=t),this._config.restoreFocus&&r&&"function"==typeof r.focus){const E=(0,u._getFocusedElementPierceShadowDom)(),g=this._elementRef.nativeElement;(!E||E===this._document.body||E===g||g.contains(E))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=(0,u._getFocusedElementPierceShadowDom)();return t===r||t.contains(r)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,u._getFocusedElementPierceShadowDom)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return m.\u0275fac=function(t){return new(t||m)(i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(s.FocusTrapFactory),i.\u0275\u0275directiveInject(l.DOCUMENT,8),i.\u0275\u0275directiveInject(_),i.\u0275\u0275directiveInject(s.InteractivityChecker),i.\u0275\u0275directiveInject(i.NgZone),i.\u0275\u0275directiveInject(o.OverlayRef),i.\u0275\u0275directiveInject(s.FocusMonitor))},m.\u0275cmp=i.\u0275\u0275defineComponent({type:m,selectors:[["cdk-dialog-container"]],viewQuery:function(t,r){if(1&t&&i.\u0275\u0275viewQuery(a.CdkPortalOutlet,7),2&t){let E;i.\u0275\u0275queryRefresh(E=i.\u0275\u0275loadQuery())&&(r._portalOutlet=E.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,r){2&t&&i.\u0275\u0275attribute("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[i.\u0275\u0275InheritDefinitionFeature],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&i.\u0275\u0275template(0,M,0,0,"ng-template",0)},dependencies:[a.CdkPortalOutlet],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),m})();class T{constructor(p,t){this.overlayRef=p,this.config=t,this.closed=new b.x,this.disableClose=t.disableClose,this.backdropClick=p.backdropClick(),this.keydownEvents=p.keydownEvents(),this.outsidePointerEvents=p.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(r=>{r.keyCode===v.ESCAPE&&!this.disableClose&&!(0,v.hasModifierKey)(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=p.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(p,t){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(p),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(p="",t=""){return this.overlayRef.updateSize({width:p,height:t}),this}addPanelClass(p){return this.overlayRef.addPanelClass(p),this}removePanelClass(p){return this.overlayRef.removePanelClass(p),this}}const R=new i.InjectionToken("DialogScrollStrategy"),F=new i.InjectionToken("DialogData"),x=new i.InjectionToken("DefaultDialogConfig");function I(m){return()=>m.scrollStrategies.block()}const f={provide:R,deps:[o.Overlay],useFactory:I};let L=0,B=(()=>{class m{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,r,E,g,S,A){this._overlay=t,this._injector=r,this._defaultOptions=E,this._parentDialog=g,this._overlayContainer=S,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new b.x,this._afterOpenedAtThisLevel=new b.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,D.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,d.O)(void 0))),this._scrollStrategy=A}open(t,r){(r={...this._defaultOptions||new _,...r}).id=r.id||"cdk-dialog-"+L++,r.id&&this.getDialogById(r.id);const g=this._getOverlayConfig(r),S=this._overlay.create(g),A=new T(S,r),W=this._attachContainer(S,A,r);return A.containerInstance=W,this._attachDialogContent(t,A,W,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(A),A.closed.subscribe(()=>this._removeOpenDialog(A,!0)),this.afterOpened.next(A),A}closeAll(){O(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){O(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),O(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const r=new o.OverlayConfig({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachContainer(t,r,E){const g=E.injector||E.viewContainerRef?.injector,S=[{provide:_,useValue:E},{provide:T,useValue:r},{provide:o.OverlayRef,useValue:t}];let A;E.container?"function"==typeof E.container?A=E.container:(A=E.container.type,S.push(...E.container.providers(E))):A=U;const W=new a.ComponentPortal(A,E.viewContainerRef,i.Injector.create({parent:g||this._injector,providers:S}),E.componentFactoryResolver);return t.attach(W).instance}_attachDialogContent(t,r,E,g){if(t instanceof i.TemplateRef){const S=this._createInjector(g,r,E,void 0);let A={$implicit:g.data,dialogRef:r};g.templateContext&&(A={...A,..."function"==typeof g.templateContext?g.templateContext():g.templateContext}),E.attachTemplatePortal(new a.TemplatePortal(t,null,A,S))}else{const S=this._createInjector(g,r,E,this._injector),A=E.attachComponentPortal(new a.ComponentPortal(t,g.viewContainerRef,S,g.componentFactoryResolver));r.componentInstance=A.instance}}_createInjector(t,r,E,g){const S=t.injector||t.viewContainerRef?.injector,A=[{provide:F,useValue:t.data},{provide:T,useValue:r}];return t.providers&&("function"==typeof t.providers?A.push(...t.providers(r,t,E)):A.push(...t.providers)),t.direction&&(!S||!S.get(n.Directionality,null,{optional:!0}))&&A.push({provide:n.Directionality,useValue:{value:t.direction,change:(0,c.of)()}}),i.Injector.create({parent:S||g,providers:A})}_removeOpenDialog(t,r){const E=this.openDialogs.indexOf(t);E>-1&&(this.openDialogs.splice(E,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((g,S)=>{g?S.setAttribute("aria-hidden",g):S.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let E=r.length-1;E>-1;E--){const g=r[E];g!==t&&"SCRIPT"!==g.nodeName&&"STYLE"!==g.nodeName&&!g.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(g,g.getAttribute("aria-hidden")),g.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return m.\u0275fac=function(t){return new(t||m)(i.\u0275\u0275inject(o.Overlay),i.\u0275\u0275inject(i.Injector),i.\u0275\u0275inject(x,8),i.\u0275\u0275inject(m,12),i.\u0275\u0275inject(o.OverlayContainer),i.\u0275\u0275inject(R))},m.\u0275prov=i.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac}),m})();function O(m,p){let t=m.length;for(;t--;)p(m[t])}let y=(()=>{class m{}return m.\u0275fac=function(t){return new(t||m)},m.\u0275mod=i.\u0275\u0275defineNgModule({type:m}),m.\u0275inj=i.\u0275\u0275defineInjector({providers:[B,f],imports:[o.OverlayModule,a.PortalModule,s.A11yModule,a.PortalModule]}),m})()}}]);